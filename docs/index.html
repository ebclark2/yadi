<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YADI: YADI ![Build Status](https://travis-ci.org/ebclark2/yadi.svg?branch=master) [Documentation](https://ebclark2.github.io/yadi/)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">YADI
   </div>
   <div id="projectbrief">YAMLDependencyInjection</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">YADI ![Build Status](<a href="https://travis-ci.org/ebclark2/yadi.svg?branch=master">https://travis-ci.org/ebclark2/yadi.svg?branch=master</a>) [Documentation](<a href="https://ebclark2.github.io/yadi/">https://ebclark2.github.io/yadi/</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>YADI aims to provide non-intrusive run time dependency injection via human readable YAML config with generated help information.</p>
<p>Example help information, see <a href="https://github.com/ebclark2/yadi/blob/master/test/yadi/example.cpp">test/yadi/example.cpp</a></p>
<div class="fragment"><div class="line">#base_type</div><div class="line">#    &quot;implementation_type&quot; -&gt; Help information</div><div class="line">#        continued help information...</div><div class="line">double</div><div class="line">    &quot;type_by_value&quot; -&gt; Direct conversion using yaml.as&lt;double&gt;()</div><div class="line">float</div><div class="line">    &quot;type_by_value&quot; -&gt; Direct conversion using yaml.as&lt;float&gt;()</div><div class="line">int</div><div class="line">    &quot;type_by_value&quot; -&gt; Direct conversion using yaml.as&lt;int&gt;()</div><div class="line">std::string</div><div class="line">    &quot;type_by_value&quot; -&gt; Direct conversion using yaml.as&lt;std::string&gt;()</div><div class="line">yadi::car</div><div class="line">    &quot;type_by_value&quot; -&gt; Expects yaml map with fields:</div><div class="line">        make: std::string, The make of the car!</div><div class="line">        power_plant: yadi::power_plant, What makes the car go!</div><div class="line">yadi::power_plant</div><div class="line">    &quot;electric&quot; -&gt; Expects yaml sequence with types:</div><div class="line">         - std::string, Origin of motor</div><div class="line">         - int, Watts</div><div class="line">         - list&lt;int&gt;, Random numbers for testing?</div><div class="line">    &quot;gas&quot; -&gt; Expects yaml map with fields:</div><div class="line">        make: std::string, Engine make</div><div class="line">        cylinder_count: int, The number of cylinders</div><div class="line">        bore: float, Cylidner bore in inches</div><div class="line">        stroke: float, Cylinder stroke in inches</div><div class="line">        vendors: set&lt;std::string&gt;, Vendors providing parts for engine</div></div><!-- fragment --><p> Example configuration </p><div class="fragment"><div class="line">---</div><div class="line">- make: &quot;gm&quot;</div><div class="line">  power_plant:</div><div class="line">    type: gas</div><div class="line">    config:</div><div class="line">      make: LQ4</div><div class="line">      cylinder_count: 8</div><div class="line">      bore: 3.72</div><div class="line">      stroke: 3.44</div><div class="line">      vendors:</div><div class="line">        - Currie</div><div class="line">        - Synergy</div><div class="line">        - Some other vendor</div><div class="line">- make: &quot;tesla&quot;</div><div class="line">  power_plant:</div><div class="line">    type: electric</div><div class="line">    config:</div><div class="line">      - USA</div><div class="line">      - 1200</div><div class="line">      - - 1</div><div class="line">        - 2</div><div class="line">        - 3</div><div class="line">        - 4</div><div class="line">        - 5</div></div><!-- fragment --><p> Example classes </p><div class="fragment"><div class="line"><span class="keyword">struct </span>power_plant {</div><div class="line">    <span class="keyword">virtual</span> ~power_plant() {}</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">int</span> power() <span class="keyword">const</span> = 0;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">struct </span>electric : <span class="keyword">public</span> power_plant {</div><div class="line">    electric(std::string make, <span class="keywordtype">int</span> watts, std::vector&lt;int&gt; numbers)</div><div class="line">        : make(std::move(make)), watts(std::move(watts)), numbers(numbers) {}</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> power()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;watts; }</div><div class="line"></div><div class="line">    std::string make;</div><div class="line">    <span class="keywordtype">int</span> watts;</div><div class="line">    std::vector&lt;int&gt; numbers;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">struct </span>gas : <span class="keyword">public</span> power_plant {</div><div class="line">    gas(std::string make, <span class="keywordtype">int</span> cylinder_count, <span class="keywordtype">float</span> bore, <span class="keywordtype">float</span> stroke, std::set&lt;std::string&gt; vendors)</div><div class="line">        : make(make), cylinder_count(cylinder_count), bore(bore), stroke(stroke), vendors(std::move(vendors)) {}</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> power()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> this-&gt;bore * this-&gt;stroke * this-&gt;cylinder_count; }</div><div class="line"></div><div class="line">    std::string make;</div><div class="line">    <span class="keywordtype">int</span> cylinder_count;</div><div class="line">    <span class="keywordtype">float</span> bore;</div><div class="line">    <span class="keywordtype">float</span> stroke;</div><div class="line">    std::set&lt;std::string&gt; vendors;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">struct </span>car {</div><div class="line">    car(std::string make, std::unique_ptr&lt;power_plant&gt;&amp;&amp; motor) : make(std::move(make)), motor(std::move(motor)) {}</div><div class="line"></div><div class="line">    std::string make;</div><div class="line">    std::unique_ptr&lt;power_plant&gt; motor;</div><div class="line">};</div></div><!-- fragment --> <h3>Build requirements</h3>
<ul>
<li>c++14</li>
<li>conan.io, see <a href="http://conan.io">http://conan.io</a></li>
<li>edsidea conan remote, <code>conan remote add &lt;REMOTE&gt; <a href="https://api.bintray.com/conan/edsidea/edsidea">https://api.bintray.com/conan/edsidea/edsidea</a></code> where <code>&lt;REMOTE&gt;</code> is your name for this remote</li>
</ul>
<h3>Building from repository</h3>
<ul>
<li>mkdir build</li>
<li>cd build</li>
<li>conan install .. &ndash;build missing</li>
<li>conan build ..</li>
<li>ctest</li>
</ul>
<h3>Definitions</h3>
<ul>
<li>base type: The type a factory instantiates. factory&lt;foo&gt; would have a base type of foo.</li>
<li>ptr type: The type created by a factory. The default pointer type is std::unique_ptr&lt;base_type&gt;. Returning by value is possible but implies no inheritance is used. This name is poor and will change soon.</li>
<li>output type: The return type of a create function. By default the base types pointer type is used, but other types may be requested. Anything output type that's true for std::is_convertible&lt;output_type, base_type&gt; is allowed and adapters may facilitate other conversions.</li>
<li>initializer: A function capable of instantiaing the base type of a factory.</li>
<li>adapter: A layer on top of factory&lt;foo&gt;::create to allow types such as templated containers to be created without having to register initializers for each element type.</li>
<li>type: A string identifying an initializer.</li>
<li>config: YAML to be passed to an initializer.</li>
<li>factory config: YAML containing both type information and config to be passed to an initializer. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
